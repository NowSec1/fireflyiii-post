# Firefly III è®°è´¦åŠ©æ‰‹

ä¸€ä¸ªåŸºäº Flask çš„è½»é‡çº§å‰åç«¯åˆ†ç¦»åº”ç”¨ï¼Œç”¨äºå¿«é€Ÿå°†äº¤æ˜“æäº¤åˆ° Firefly IIIã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” åç«¯ä»£ç† Firefly III æ¥å£ï¼Œç»Ÿä¸€å¤„ç†è®¤è¯å’Œé”™è¯¯ä¿¡æ¯
- ğŸ§¾ è¡¨å•æ”¯æŒæè¿°ã€æ¥æºè´¦æˆ·ã€ç›®æ ‡è´¦æˆ·ã€æ—¥æœŸã€é‡‘é¢ã€é¢„ç®—ã€åˆ†ç±»ã€æ ‡ç­¾ã€å¤‡æ³¨ç­‰å­—æ®µ
- ğŸª„ ç¾è§‚æ˜“ç”¨çš„å“åº”å¼å‰ç«¯ç•Œé¢ï¼Œæ”¯æŒå¿«é€ŸåŠ è½½æ•°æ®ä¸æäº¤äº¤æ˜“
- âš™ï¸ é€šè¿‡ç¯å¢ƒå˜é‡é…ç½® Firefly III è®¿é—®åœ°å€å’Œè®¿é—®ä»¤ç‰Œ

## å¿«é€Ÿå¼€å§‹

1. **å‡†å¤‡ç¯å¢ƒå˜é‡**

   ```bash
   export FIREFLY_BASE_URL="https://your-firefly-instance"
   export FIREFLY_ACCESS_TOKEN="your-personal-access-token"
   ```

   > å»ºè®®ä½¿ç”¨ [`python-dotenv`](https://pypi.org/project/python-dotenv/) æˆ–å…¶ä»–æ–¹å¼ç®¡ç†æœ¬åœ°å¼€å‘æ—¶çš„ç¯å¢ƒå˜é‡ã€‚

2. **å®‰è£…ä¾èµ–**

   ```bash
   python -m venv .venv
   source .venv/bin/activate
   pip install -r requirements.txt
   ```

3. **è¿è¡Œå¼€å‘æœåŠ¡å™¨**

   ```bash
   python wsgi.py
   ```

   è®¿é—® `http://localhost:8000`ï¼Œå³å¯çœ‹åˆ°è®°è´¦é¡µé¢ã€‚

## é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ app/                # Flask åº”ç”¨ä¸ Firefly III API ä»£ç†
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ firefly.py
â”œâ”€â”€ frontend/           # é™æ€å‰ç«¯èµ„æº
â”‚   â”œâ”€â”€ app.js
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ styles.css
â”œâ”€â”€ requirements.txt
â””â”€â”€ wsgi.py             # å…¥å£è„šæœ¬
```

## æ¥å£è¯´æ˜

- `GET /api/accounts`ï¼šè·å– Firefly III ä¸­çš„è´¦æˆ·åˆ—è¡¨ï¼ˆé»˜è®¤æ‹‰å–èµ„äº§è´¦æˆ·ï¼Œå¯é€šè¿‡ `type` å‚æ•°è°ƒæ•´ï¼‰
- `GET /api/budgets`ï¼šè·å–é¢„ç®—åˆ—è¡¨
- `GET /api/categories`ï¼šè·å–åˆ†ç±»åˆ—è¡¨
- `GET /api/tags`ï¼šè·å–æ ‡ç­¾åˆ—è¡¨
- `POST /api/transactions`ï¼šæäº¤äº¤æ˜“ã€‚è¯·æ±‚ä½“éœ€åŒ…å«è¡¨å•å­—æ®µå¯¹åº”çš„æ•°æ®ï¼Œåç«¯ä¼šè½¬æ¢ä¸º Firefly III API æ‰€éœ€ç»“æ„

## éƒ¨ç½²å»ºè®®

- åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¯·ä½¿ç”¨ WSGI æœåŠ¡å™¨ï¼ˆå¦‚ Gunicornã€uWSGIï¼‰å¯åŠ¨ `app:create_app()`
- æ ¹æ®éœ€è¦åœ¨åå‘ä»£ç†å±‚å¤„ç† HTTPS ä¸è®¿é—®æ§åˆ¶
- å¯é€šè¿‡å‰ç«¯éƒ¨ç½²åˆ° CDNï¼Œå¹¶é…ç½®åç«¯ä¸ºç‹¬ç«‹ API æœåŠ¡

## è®¸å¯è¯

MIT
